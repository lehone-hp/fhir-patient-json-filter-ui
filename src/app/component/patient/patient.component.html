<div class="col-sm-8 col-sm-offset-2">

  <form class="form-inline filter" (submit)="getPatients()">
    <div class="form-group">
      <label>Patient</label>
      <select [(ngModel)]="filter.gender" class="form-control" name="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
    </div>
    <div class="form-group">
      <label>&nbsp;Encounter</label>
      <select [(ngModel)]="filter.encounter" class="form-control" name="encounter">
        <option value="finished">Finished</option>
        <option value="planned">Planned</option>
        <option value="arrived">Arrived</option>
        <option value="in-progress">In-progress</option>
      </select>
    </div>
    <div class="form-group">
      <label>&nbsp;Observation</label>
      <select [(ngModel)]="filter.observation" class="form-control" name="observation">
        <option value="registered">Registered</option>
        <option value="final">Final</option>
        <option value="corrected">Corrected</option>
        <option value="canceled">Canceled</option>
        <option value="unknown">Unknown</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
  </form>

  <table class="table table-striped table-bordered table-condensed crawler-table">
    <thead class="head">
    <tr>
      <th>S/N</th>
      <th>Name</th>
      <th>Gender</th>
      <th>BirthDate</th>
      <th>Deceased</th>
      <th>Encounters</th>
      <th>Observations</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let patient of patients">
      <td>{{patients.indexOf(patient)+1}}</td>
      <td>{{patient.name[0].family}} {{patient.name[0].given[0]}}</td>
      <td>{{patient.gender}}</td>
      <td>{{patient.birthDate | date:'fullDate'}}</td>
      <td>{{patient.deceasedBoolean}}</td>
      <td>{{patient.encounters.length}}</td>
      <td *ngFor="let encounter of patient.encounters">
        {{encounter.observations.length}}
      </td>
    </tr>
    </tbody>
  </table>
</div>
<div *ngIf="!patients" class="well col-sm-8 col-sm-offset-2">
  <span>No Patients to display</span>
</div>
